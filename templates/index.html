<!DOCTYPE html>
<html>
<body>

<style>
body {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  font-family: Arial, sans-serif;
  background-color: #2f2f2f;
  color: white;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.center {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;  /* Space between elements */
}

.input-field, .button {
  padding: 10px;
  font-size: 16px;
  border: none;
  border-radius: 5px;
}

.input-field {
  width: 100%;
  max-width: 300px;  /* Max width to keep elements from becoming too wide */
  border: 1px solid #ff9933;
  background-color: #404040;
  color: white;
}

.button {
  cursor: pointer;
  background-color: #ff9933;
  color: #2f2f2f;
}

.button:hover {
  background-color: #b36b00;
}

.button.copy {
  display: none;
  width: calc(50% - 10px);  /* 50% width minus half the gap between buttons */
  font-size: 12px;  /* Smaller font size */
  padding: 5px;  /* Less padding to make the button smaller */
}

.thanks-message {
  font-size: 16px;
  text-align: center;
}

.thanks-message a {
  color: white;
  text-decoration: none;
}

.thanks-message a:hover {
  color: #ff9933;
}
</style>

<div class="center">
  <h2>modsiw's Unix Time Converter</h2>
  <input type="datetime-local" id="datetime" class="input-field">
  <button class="button" onclick="convertToUnix()">Convert</button>
  <p id="result"></p>
  <button class="button copy" onclick="copyToClipboard()">Copy to Clipboard</button>
  <p class="thanks-message">
    Optimized for <t:unixtimecode> for Discord<br> Thanks for using converter! Follow me on Twitter <a href="https://twitter.com/itsmodsiw" target="_blank">@itsmodsiw</a>.
  </p>
</div>

<script>
function convertToUnix() {
    var datetime = document.getElementById('datetime').value;

    fetch('/convert', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ datetime: datetime })  // Send the datetime as JSON
    })
    .then(response => response.json())
    .then(data => {
        // Display the Unix timestamp received from the server
        document.getElementById('result').innerText = 'Unix Timestamp: ' + data.timestamp;

        // Show the copy to clipboard button
        document.querySelector('.copy').style.display = 'inline-block';
    });
}
function copyToClipboard() {
    var unixTimestamp = document.getElementById('result').innerText.split(': ')[1];
    var formattedTimestamp = "<t:" + unixTimestamp + ">";

    // Create a temporary textarea element
    var textarea = document.createElement('textarea');
    textarea.value = formattedTimestamp;
    document.body.appendChild(textarea);

    // Copy the text from the textarea
    textarea.select();
    document.execCommand('copy');

    // Remove the temporary textarea
    document.body.removeChild(textarea);
}
</script>

</body>
</html>
